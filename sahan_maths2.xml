<?xml version="1.0" encoding="UTF-8" ?>
<b:template xmlns='http://www.w3.org/1999/xhtml'>

  <!-- CSS -->
  <b:skin><![CDATA[
    :root{
      --accent:#0b69ff;
      --bg:#f6f8fb;
      --card:#ffffff;
      --muted:#6b7280;
      --max-width:1400px;
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:Inter,Segoe UI,Roboto,Arial,sans-serif;background:var(--bg);color:#111}
    .site-header{position:sticky;top:0;z-index:999;background:rgba(255,255,255,0.98);backdrop-filter:saturate(120%) blur(2px);display:flex;align-items:center;justify-content:space-between;padding:10px 20px;box-shadow:0 2px 6px rgba(10,10,10,0.08)}
    .header-left,.header-center,.header-right{display:flex;align-items:center}
    .header-left .logo-img{height:48px;width:auto}
    .header-center{flex:1;justify-content:center}
    .site-title{font-weight:700;font-size:18px;letter-spacing:0.2px}
    .header-right nav{display:flex;gap:14px}
    .nav-link{padding:8px 12px;border-radius:8px;text-decoration:none;color:#111;font-weight:600}
    .nav-link:hover{background:rgba(11,105,255,0.08)}

    .container{max-width:var(--max-width);margin:28px auto;padding:0 20px}

    .home-top{display:flex;gap:24px;align-items:flex-start}
    .left-box{width:1150px;height:600px;background:#fff;border-radius:12px;box-shadow:0 6px 18px rgba(11,105,255,0.06);display:flex;align-items:center;justify-content:center}
    .right-box{width:600px;height:600px;background:#fff;border-radius:12px;box-shadow:0 6px 18px rgba(0,0,0,0.06);display:flex;align-items:center;justify-content:center}
    .box-img{width:100%;height:100%;object-fit:cover;border-radius:12px}

    section{margin-top:40px}
    h2.section-title{margin:0 0 12px 0;font-size:20px}

    .videos-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:18px}
    .video-card{background:var(--card);border-radius:10px;overflow:hidden;box-shadow:0 4px 12px rgba(16,24,40,0.06);cursor:pointer;transition:transform 0.2s}
    .video-card:hover{transform:translateY(-4px)}
    .video-thumb{position:relative;padding-top:56.25%;background:#000}
    .video-thumb img{position:absolute;inset:0;width:100%;height:100%;object-fit:cover}
    .video-info{padding:12px}
    .video-title{font-weight:700;margin:0 0 6px 0}
    .video-meta{font-size:13px;color:var(--muted)}

    .papers-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:16px}
    .paper-card{display:flex;flex-direction:column;align-items:center;gap:10px;padding:12px;background:var(--card);border-radius:10px;box-shadow:0 6px 18px rgba(0,0,0,0.04);text-align:center}
    .paper-thumb{width:100%;height:140px;background:#eef6ff;display:flex;align-items:center;justify-content:center;border-radius:8px}
    .paper-title{font-weight:700}
    .download-btn{display:inline-block;margin-top:8px;padding:8px 10px;border-radius:8px;background:var(--accent);color:#fff;text-decoration:none}

    .contact-card{background:var(--card);padding:20px;border-radius:10px;box-shadow:0 6px 16px rgba(0,0,0,0.04)}

    .modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,0.6);z-index:1200}
    .modal.open{display:flex}
    .modal-inner{width:min(920px,95%);background:#000;border-radius:10px;overflow:hidden}
    .modal-inner iframe{display:block;width:100%;height:515px;border:0}
    .modal-close{position:absolute;right:18px;top:18px;background:#fff;border-radius:50%;width:36px;height:36px;display:flex;align-items:center;justify-content:center;cursor:pointer}

    @media (max-width:1300px){.left-box{width:900px}.right-box{width:420px}}
    @media (max-width:1100px){.home-top{flex-direction:column}.left-box,.right-box{width:100%;height:auto;min-height:300px;padding:36px}}
    html{scroll-behavior:smooth}
  ]]></b:skin>

  <head>
    <title><data:blog.pageTitle/></title>
    <b:include name='all-head-content'/>
  </head>

  <body>
    <!-- HEADER -->
    <b:section id='header' class='site-header' showaddelement='no'>
      <div class="header-left">
        <img expr:src='data:blog.blogspotFaviconUrl' class="logo-img"/>
      </div>
      <div class="header-center">
        <div class="site-title"><data:blog.title/></div>
      </div>
      <div class="header-right">
        <nav>
          <a class="nav-link" expr:href='data:blog.homepageUrl'>Home</a>
          <a class="nav-link" href="#videos">Videos</a>
          <a class="nav-link" href="#papers">Past Papers</a>
          <a class="nav-link" href="#contact">Contact Us</a>
        </nav>
      </div>
    </b:section>

    <!-- MAIN CONTENT -->
    <b:section id='main' class='container' showaddelement='no'>
      <!-- HOME -->
      <section id="home">
        <div class="home-top">
          <div class="left-box"><img src="le.png" alt="Maths Poster" class="box-img"/></div>
          <div class="right-box"><img src="right.png" alt="Maths Promo" class="box-img"/></div>
        </div>
      </section>

      <!-- BLOG POSTS -->
      <section id="posts">
        <h2 class="section-title">Latest Posts</h2>
        <b:loop values='data:posts' var='post'>
          <article class="post">
            <h3><a expr:href='data:post.url'><data:post.title/></a></h3>
            <div class="post-body"><data:post.body/></div>
          </article>
        </b:loop>
      </section>

      <!-- VIDEOS -->
      <section id="videos">
        <h2 class="section-title">Videos</h2>
        <div class="videos-grid" id="videosGrid">
          <div class="video-card" data-youtube="https://youtu.be/N4ljrFTb6cc">
            <div class="video-thumb"></div>
            <div class="video-info"><h3 class="video-title">Sample Video 1</h3><div class="video-meta">07:30</div></div>
          </div>
          <div class="video-card" data-youtube="https://youtu.be/UEo-43F3SH8">
            <div class="video-thumb"></div>
            <div class="video-info"><h3 class="video-title">Sample Video 2</h3><div class="video-meta">03:01</div></div>
          </div>
        </div>
      </section>

      <!-- PAST PAPERS -->
      <section id="papers">
        <h2 class="section-title">Past Papers</h2>
        <div class="papers-grid">
          <div class="paper-card">
            <div class="paper-thumb"><strong>PDF</strong></div>
            <div class="paper-title">Past Paper — 2020</div>
            <a class="download-btn" href="2020_OL.pdf" download>Download</a>
          </div>
          <div class="paper-card">
            <div class="paper-thumb"><strong>PDF</strong></div>
            <div class="paper-title">Past Paper — 2023</div>
            <a class="download-btn" href="papers/paper-2023.pdf" download>Download</a>
          </div>
        </div>
      </section>

      <!-- CONTACT -->
      <section id="contact">
        <h2 class="section-title">Contact Us</h2>
        <div class="contact-card">
          <p>Email: <data:blog.adminEmail/></p>
          <p><a href="#">YouTube</a> • <a href="#">Telegram</a> • <a href="#">WhatsApp</a></p>
        </div>
      </section>
    </b:section>

    <!-- MODAL -->
    <div id="videoModal" class="modal">
      <div class="modal-inner">
        <button id="modalClose" class="modal-close">✕</button>
        <iframe id="videoFrame"></iframe>
      </div>
    </div>

    <!-- JS -->
    <script type="text/javascript"><![CDATA[
      const videoCards=document.querySelectorAll('.video-card');
      const modal=document.getElementById('videoModal');
      const frame=document.getElementById('videoFrame');
      const modalClose=document.getElementById('modalClose');

      function getYouTubeID(url){
        try{const u=new URL(url);
          if(u.hostname==="youtu.be"){return u.pathname.slice(1);}
          else if(u.searchParams.has("v")){return u.searchParams.get("v");}
          else if(u.pathname.startsWith("/shorts/")){return u.pathname.split("/shorts/")[1].split("?")[0];}
        }catch(e){console.error("Invalid YouTube URL:",url);}
        return null;
      }

      function openModal(yid){
        frame.src=`https://www.youtube.com/embed/${yid}?autoplay=1&rel=0`;
        modal.classList.add('open');
        modal.setAttribute('aria-hidden','false');
      }
      function closeModal(){
        frame.src='';
        modal.classList.remove('open');
        modal.setAttribute('aria-hidden','true');
      }

      videoCards.forEach(card=>{
        const url=card.dataset.youtube;
        const id=getYouTubeID(url);
        if(id){
          const thumb=card.querySelector('.video-thumb');
          thumb.innerHTML=`<img src="https://img.youtube.com/vi/${id}/hqdefault.jpg"/>`;
          card.addEventListener('click',()=>openModal(id));
        }
      });
      modalClose.addEventListener('click',closeModal);
      modal.addEventListener('click',e=>{if(e.target===modal)closeModal();});
      document.addEventListener('keydown',e=>{if(e.key==='Escape')closeModal();});
    ]]></script>

    <b:include name='all-body-content'/>
  </body>
</b:template>
